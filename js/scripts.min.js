function alignContent(e){var t=e.children(".inner").children(".half"),n=t.eq(1).height(),i=t.eq(0).height(),a=(i-n)/2;t.eq(1).css({height:i,"padding-top":a,"padding-bottom":a})}$.easing.easeInOutQuad=function(e,t,n,i,a){return(t/=a/2)<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},$(document).ready(function(){function e(){var e=o;o++,o>s-1&&(o=0),a.eq(e).animate({opacity:"0"},1e3),a.eq(o).delay(1e3).animate({opacity:"1"},1e3)}var t=$(window).width()<667;t&&($(function(){FastClick.attach(document.body)}),$(".case-study").length&&$("#links").find("img").attr("src","/img/line-vertical.svg"));var n=$(".quote-container"),a=n.children("blockquote"),s=a.length,o=0,r=setInterval(function(){if($("html").hasClass("wf-freighttextpro-i4-active")&&$("html").hasClass("wf-freighttextpro-n4-active")&&$("html").hasClass("wf-sourcesanspro-n3-active")&&$("html").hasClass("wf-sourcesanspro-n4-active")&&$("html").hasClass("wf-active")){if($("body").hasClass("case-study")){var i=$("#hero"),s=$("#links"),c=i.find(".hero").attr("src"),l=s.find("img").attr("src"),d=new Image,h=new Image;d.onload=function(){t||alignContent(i),i.find(".half").css("opacity",1)},d.src=c,h.onload=function(){t||alignContent(s)},h.src=l}else if($("body").is("#home")){var u=$("#contact"),f=u.find(".portrait").attr("src"),g=new Image;g.onload=function(){alignContent(u)},g.src=f;var m=0;if(a.each(function(){var e=$(this).outerHeight();e>m&&(m=e)}),n.css("height",m),a.each(function(){$(this).css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"})}),t){a.eq(o).animate({opacity:"1"},1e3);setInterval(e,1e4)}else $(window).on("scroll",function(){a.eq(o).animate({opacity:"1"},1e3);var t=setInterval(e,1e4);n.on("mouseover",function(){$(this).addClass("-hover"),clearInterval(t)}),n.on("mouseleave",function(){$(this).removeClass("-hover"),t=setInterval(e,1e4)}),n.on("click",function(){e()}),$(window).unbind("scroll")})}clearInterval(r)}},50);$("#case-studies-sub-nav").outerHeight();if($("#case-studies-nav").on("click",function(e){e.preventDefault();var n=$(this).parents("nav");t?(n.toggleClass("-active"),n.siblings("#case-studies-sub-nav").fadeToggle(150),$("body").toggleClass("-overflow")):(n.toggleClass("-active"),n.siblings("#case-studies-sub-nav").toggleClass("-active"))}),$("#case-studies-sub-nav").find(".-coming-soon").on("click",function(e){e.preventDefault()}),$("#home").length){var c=0,l=$(".tile-grid"),d=l.children(".tile"),h=d.children(".thumbnail"),u=l.eq(1),f=4,g=$("#case-studies .inner .view-all"),m=u.outerHeight();u.children(".tile").slice(f).hide();var v=u.outerHeight();u.css("height",v),u.children(".tile").show().slice(f).css("opacity","0"),g.on("click",function(e){e.preventDefault(),u.animate({height:m},1e3),$(this).fadeOut(300),setTimeout(function(){u.children(".tile").each(function(e){$(this).index()<f-1||$(this).delay(150*(e-f)+250).animate({opacity:"1"},250)})})}),d.each(function(){for(var e=Math.floor(360*Math.random());Math.abs(e-c)<20;)e=Math.floor(360*Math.random());var t=$(this).find(".shade").not(".-coming-soon");t.css("transform","rotate("+e+"deg) translateX(-101%)").attr("data-angle",e),setTimeout(function(){t.css("opacity","1")},500),c=e}),h.on("click",function(e){$(this).children(".coming-soon").length&&e.preventDefault()}).on("mouseenter",function(){var e=$(this).children(".shade").not(".-coming-soon").attr("data-angle");$(this).find(".shade").css("transform","rotate("+e+"deg) translateX(-50%)")}).on("mouseleave",function(){var e=$(this).children(".shade").not(".-coming-soon").attr("data-angle");$(this).find(".shade").css("transform","rotate("+e+"deg) translateX(-101%)")});var p=setInterval(function(){$("#about").offset().top-$(window).scrollTop()<$(window).height()/2&&($(".hex").each(function(e,t){setTimeout(function(){$(t).animate({opacity:"1"},400,"linear")},150*e)}),clearInterval(p))},200)}if($(".to-top").on("click",function(){$("body").animate({scrollTop:0},$("body").outerHeight()/4,"swing")}),$(".image-slider").length){var w=$(".image-slider"),C=w.width(),q=w.children(".track"),b=q.children("img"),y=b.length,I=b.width()+2*parseInt(b.css("margin-left")),k=(C-I)/(2*C),x=100*-(2*I/C-k),T=t?"15px":"30px",H=w.children(".controls"),D=H.children(".control"),M=w.children(".paging-indicators"),O=2,X=500;for(i=0;i<y;i++)M.append('<div class="dot"></div>');var Q=M.children(".dot");Q.eq(0).addClass("-current"),b.each(function(){$(this).css({width:$(this).width(),"margin-left":parseInt(b.css("margin-left")),"margin-right":parseInt(b.css("margin-left"))})});var B=b.eq(0).attr("src"),E=new Image;if(E.onload=function(){var e=b.eq(0).outerHeight()+parseInt(b.eq(0).css("margin-top"))+parseInt(b.eq(0).css("margin-bottom"));w.height(e),q.append(b.eq(0).clone()).append(b.eq(1).clone()),b.eq(0).addClass("-current").css("top","0"),q.prepend(b.eq(y-1).clone()).prepend(b.eq(y-2).clone()),b=q.children("img");var t=I*b.length;q.width(t),q.css({position:"absolute",left:x+"%"})},E.src=B,D.on("click",function(e){e.preventDefault(),D.prop("disabled",!0),t&&j.off("swipe");var n=parseInt(q.css("left"))/w.width()*100,i=I/w.width()*100;b.filter(".-current").removeClass("-current").animate({top:T},X),$(this).hasClass("-prev")?O--:$(this).hasClass("-next")&&(i=-i,O++),b.eq(O).addClass("-current").animate({top:""},X),O===y+2?(O=2,b.eq(O).addClass("-current").css("top","0"),setTimeout(function(){q.css("left",x+"%"),b.filter(".-current").last().removeClass("-current").css("top","")},X+10)):1===O&&(O=y+1,b.eq(O).addClass("-current").css("top","0"),setTimeout(function(){q.css("left",100*-(I*(y+1)/C-k)+"%"),b.filter(".-current").first().removeClass("-current").css("top","")},X+10)),Q.filter(".-current").removeClass("-current"),Q.eq(O-2).addClass("-current"),q.animate({left:n+i+"%"},X,"easeInOutQuad",function(){D.prop("disabled",!1),t&&j.on("swipe",function(e){z(e.direction)})})}),t){var F=document.getElementById("fashion"),j=new Hammer(F);j.on("swipe",function(e){z(e.direction)});var z=function(e){2===e?D.filter(".-next").trigger("click"):4===e&&D.filter(".-prev").trigger("click")}}}});